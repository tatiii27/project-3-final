:root{
  --ink:#1f2937;
  --muted:#6b7280;
  --panel:#f8fafc;
  --line:#e5e7eb;
  --halo:#ffffff;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;padding:0;background:#fff;color:var(--ink);
  font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,sans-serif}

header{padding:16px 20px;border-bottom:1px solid var(--line);text-align:center}
header h1{margin:0 0 4px}
.byline{margin:0;color:var(--muted);font-size:.95rem}

main{max-width:1200px;margin:20px auto;padding:0 16px}
.figure{border:1px solid var(--line);border-radius:10px;padding:8px;background:#fff}
.figure figcaption{color:var(--muted);font-size:.9rem;margin-top:8px}

/* controls */
.controls{
  display:flex;gap:12px 16px;flex-wrap:wrap;align-items:center;
  background:var(--panel);border:1px solid var(--line);
  padding:10px 12px;border-radius:10px;margin-bottom:12px;
}
.controls label{font-weight:600}
.controls select,.controls input[type="range"],.controls button{font:inherit}
.controls button{cursor:pointer}

/* annotations */
.anno{
  border:1px solid var(--line);border-radius:10px;background:#fff;
  padding:12px;margin:12px 0;box-shadow:0 1px 0 #f3f4f6;
}
.anno-head{margin:.1rem 0 .3rem;font-size:1.05rem}
.anno-tip,.anno-budget,.anno-compare{margin:.25rem 0}
.anno-compare strong{font-weight:700}

/* viewport + canvas (teammate style) */
.viz-viewport{
  width:100%;
  max-height:70vh;     /* graph fully visible at 100% with scroll if needed */
  border:1px solid var(--line);
  border-radius:8px;
  overflow:auto;       /* scroll when zoomed in */
  background:#fff;
}
.viz-canvas{
  width:1100px;        /* logical drawing size */
  height:750px;
  position:relative;
  transform-origin: top left;
}

/* keep svg fixed to canvas size; zoom is via canvas scale */
#brand-bubble-chart{width:1100px;height:750px;display:block}

/* labels/tooltip */
.brand-label .label-halo{paint-order:stroke;stroke:var(--halo);stroke-width:3px}
.brand-label .label-text{fill:#111}
#tooltip{
  position:absolute;background:#fff;border:1px solid var(--line);
  padding:6px 10px;border-radius:6px;pointer-events:none;opacity:0;
  box-shadow:0 2px 10px rgba(0,0,0,.06);font-size:.92rem
}
circle.highlighted{filter:drop-shadow(0 0 6px rgba(255,45,155,.65))}
