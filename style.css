:root{
  --ink:#1f2937;       /* text */
  --muted:#6b7280;     /* secondary text */
  --panel:#f8fafc;     /* panels */
  --line:#e5e7eb;      /* borders */
  --halo:#ffffff;      /* label halo stroke */
}

*{box-sizing:border-box}
html,body{
  margin:0;padding:0;
  color:var(--ink);
  font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  background:#fff
}

.site-header{padding:16px 20px;border-bottom:1px solid var(--line)}
.site-header h1{margin:0 0 4px}
.byline{margin:0;color:var(--muted);font-size:0.95rem}

.page{max-width:1200px;margin:20px auto;padding:0 16px}


.controls{
  display:flex;gap:12px 16px;flex-wrap:wrap;align-items:center;
  background:var(--panel);border:1px solid var(--line);
  padding:10px 12px;border-radius:10px;margin-bottom:12px;
}
.controls label{font-weight:600}
.controls select,.controls input[type="range"],.controls button{font:inherit}
.controls select{min-width:150px}
.controls button{cursor:pointer}


.figure{margin:0;border:1px solid var(--line);border-radius:10px;padding:8px}
.figure figcaption{color:var(--muted);font-size:.9rem;margin-top:8px}


.anno{
  border:1px solid var(--line);border-radius:10px;
  background:#fff;padding:12px;margin:12px 0;
  box-shadow:0 1px 0 #f3f4f6;
}
.anno-head{margin:.1rem 0 .3rem;font-size:1.05rem}
.anno-tip,.anno-budget,.anno-compare{margin:.25rem 0}
.anno-compare strong{font-weight:700}


.brand-label .label-halo{
  paint-order: stroke;
  stroke: var(--halo);
  stroke-width: 3px;
}
.brand-label .label-text{
  fill:#111;
}


#tooltip{
  position:absolute;background:#fff;border:1px solid var(--line);
  padding:6px 10px;border-radius:6px;pointer-events:none;opacity:0;
  box-shadow:0 2px 10px rgba(0,0,0,.06);font-size:.92rem
}
circle.highlighted {
  filter: drop-shadow(0 0 6px rgba(255, 45, 155, 0.65));
}


.label-halo { stroke: #fff; stroke-width: 3px; paint-order: stroke; }
.label-text { fill: #222; }


.viz-viewport {
  width: 100%;
  max-height: 90vh;
  border: 1px solid #ddd;
  border-radius: 8px;
  overflow: auto;  
  background: #fff;
}

.viz-canvas {
  width: 1100px;   
  height: 750px;  
  position: relative;
}


.viz-canvas svg {
  width: 100%;
  height: 100%;
  display: block;
}

.label-halo { stroke: #fff; stroke-width: 3px; paint-order: stroke; }
.label-text { fill: #222; }


#brand-bubble-chart {
  width: 100%;
  height: auto;
  display: block;
}

